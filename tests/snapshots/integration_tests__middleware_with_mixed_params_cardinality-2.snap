---
source: tests/integration_tests.rs
expression: snapshot
---
Snapshot(
    [
        (
            CompositeKey(
                Gauge,
                Key {
                    name: KeyName(
                        "http.server.active_requests",
                    ),
                    labels: [
                        Label(
                            "http.request.method",
                            "GET",
                        ),
                        Label(
                            "url.scheme",
                            "http",
                        ),
                    ],
                    hashed: true,
                    hash: 1764143306982493858,
                },
            ),
            None,
            Some(
                "Number of active HTTP server requests.",
            ),
            Gauge(
                0.0,
            ),
        ),
        (
            CompositeKey(
                Histogram,
                Key {
                    name: KeyName(
                        "http.server.request.duration",
                    ),
                    labels: [
                        Label(
                            "http.route",
                            "/resource/foo/{expensive}",
                        ),
                        Label(
                            "http.request.method",
                            "GET",
                        ),
                        Label(
                            "http.response.status_code",
                            "200",
                        ),
                        Label(
                            "network.protocol.name",
                            "http",
                        ),
                        Label(
                            "network.protocol.version",
                            "1.1",
                        ),
                    ],
                    hashed: true,
                    hash: 640284789321740458,
                },
            ),
            Some(
                Seconds,
            ),
            Some(
                "HTTP request duration in seconds for all requests",
            ),
            Histogram(
                [],
            ),
        ),
        (
            CompositeKey(
                Histogram,
                Key {
                    name: KeyName(
                        "http.server.request.body.size",
                    ),
                    labels: [
                        Label(
                            "http.route",
                            "/resource/foo/{expensive}",
                        ),
                        Label(
                            "http.request.method",
                            "GET",
                        ),
                        Label(
                            "http.response.status_code",
                            "200",
                        ),
                        Label(
                            "network.protocol.name",
                            "http",
                        ),
                        Label(
                            "network.protocol.version",
                            "1.1",
                        ),
                    ],
                    hashed: true,
                    hash: 17136311970414345062,
                },
            ),
            Some(
                Bytes,
            ),
            Some(
                "HTTP request size in bytes for all requests",
            ),
            Histogram(
                [],
            ),
        ),
        (
            CompositeKey(
                Histogram,
                Key {
                    name: KeyName(
                        "http.server.response.body.size",
                    ),
                    labels: [
                        Label(
                            "http.route",
                            "/resource/foo/{expensive}",
                        ),
                        Label(
                            "http.request.method",
                            "GET",
                        ),
                        Label(
                            "http.response.status_code",
                            "200",
                        ),
                        Label(
                            "network.protocol.name",
                            "http",
                        ),
                        Label(
                            "network.protocol.version",
                            "1.1",
                        ),
                    ],
                    hashed: true,
                    hash: 13641718914507671694,
                },
            ),
            Some(
                Bytes,
            ),
            Some(
                "HTTP response size in bytes for all requests",
            ),
            Histogram(
                [],
            ),
        ),
        (
            CompositeKey(
                Histogram,
                Key {
                    name: KeyName(
                        "http.server.request.duration",
                    ),
                    labels: [
                        Label(
                            "http.route",
                            "/resource/{cheap}/{expensive}",
                        ),
                        Label(
                            "http.request.method",
                            "GET",
                        ),
                        Label(
                            "http.response.status_code",
                            "404",
                        ),
                        Label(
                            "network.protocol.name",
                            "http",
                        ),
                        Label(
                            "network.protocol.version",
                            "1.1",
                        ),
                    ],
                    hashed: true,
                    hash: 10886932921532497623,
                },
            ),
            Some(
                Seconds,
            ),
            Some(
                "HTTP request duration in seconds for all requests",
            ),
            Histogram(
                [
                    [VALUE],
                ],
            ),
        ),
        (
            CompositeKey(
                Histogram,
                Key {
                    name: KeyName(
                        "http.server.request.body.size",
                    ),
                    labels: [
                        Label(
                            "http.route",
                            "/resource/{cheap}/{expensive}",
                        ),
                        Label(
                            "http.request.method",
                            "GET",
                        ),
                        Label(
                            "http.response.status_code",
                            "404",
                        ),
                        Label(
                            "network.protocol.name",
                            "http",
                        ),
                        Label(
                            "network.protocol.version",
                            "1.1",
                        ),
                    ],
                    hashed: true,
                    hash: 18365601163835564278,
                },
            ),
            Some(
                Bytes,
            ),
            Some(
                "HTTP request size in bytes for all requests",
            ),
            Histogram(
                [
                    0.0,
                ],
            ),
        ),
        (
            CompositeKey(
                Histogram,
                Key {
                    name: KeyName(
                        "http.server.response.body.size",
                    ),
                    labels: [
                        Label(
                            "http.route",
                            "/resource/{cheap}/{expensive}",
                        ),
                        Label(
                            "http.request.method",
                            "GET",
                        ),
                        Label(
                            "http.response.status_code",
                            "404",
                        ),
                        Label(
                            "network.protocol.name",
                            "http",
                        ),
                        Label(
                            "network.protocol.version",
                            "1.1",
                        ),
                    ],
                    hashed: true,
                    hash: 5177121453638611110,
                },
            ),
            Some(
                Bytes,
            ),
            Some(
                "HTTP response size in bytes for all requests",
            ),
            Histogram(
                [
                    0.0,
                ],
            ),
        ),
    ],
)
